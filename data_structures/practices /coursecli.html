<!DOCTYPE html>
<script>
  class Submission {
    homework;
    student;
    grade;

    constructor(homework, student) {
      this.homework = homework;
      this.student = student;
    }

    setGrade(grade) {
      this.grade = grade;
    }
  }

  class Assignment {
    assignmentName = "";

    constructor(assignmentName) {
      this.assignmentName = assignmentName;
    }
  }

  class Student {
    id = 0;
    name = "";
    year = 0;

    constructor(name, year) {
      this.id = Math.random();
      this.name = name;
      this.year = year;
    }
  }

  class Course {
    name = "";
    syllabus = "";
    lessons = [];
    students = [];
    assignments = [];
    submissions = [];

    static addClass() {
    let student = new Student(name, year);
    const newCourse = new Course(name, []);
    courses.push(newCourse);
    console.log(`Class "${name}" has been added.`);
    }
    constructor(name, syllabus, lessons) {
      this.name = name;
      this.syllabus = syllabus;
      this.lessons = lessons;
    }
    
    addPupilToCLass(name, year) {
      let student = new Student(name, year);
      this.pupils.push(student);
    }
    assignGrade(name, grade) { 
        const index = this.student.findIndex(student => student.name === name); 
        if (index!= -1) {
        let student = this.student[index]
        student.grade = grade; 
        console.log(`${name} has been assigned a grade of ${grade}.`); 
    } else {
        console.log(`${name} is not enrolled in this course.`);
    }
    }

    removePupilToCLass(name) { //remove student name 
     const index = this.pupils.findIndex(student => student.name === name);
    if (index !== -1) {
      this.student.splice(index, 1); //removechildconcept
    console.log(`${name} has been removed from the course.`);
    } else {
    console.log(`${name} is not enrolled in this course.`);
    }

    }

    addStudentToClass(name, year) {
      let student = new Student(name, year);
      this.students.push(student);
    }

    addAssignmentToCLass(assignment) {
      let homework = new Assignment(assignment);
      this.assignments.push(homework);
    }

    addSubmissionToCLass(studentName, assignmentName) {
     
      let studentIndex = this.students.findIndex(
        (student) => student.name == studentName
      );
      if (studentIndex == -1) {
        console.log(`Sorry the student ${studentName} doesn't exist`);
        return;
      }
      let student = this.students[studentIndex];

      
      let assignmentIndex = this.assignments.findIndex(
        (assignment) => assignment.assignmentName == assignmentName
      );
      if (assignmentIndex == -1) {
        console.log(`Sorry the assignment ${assignmentName} doesn't exist`);
        return;
      }
      let assignment = this.assignments[assignmentIndex];
      let submission = new Submission(assignment, student);
      this.submissions.push(submission);
    }

    listSubmissionsToCLass() {
      for (let s of this.submissions) {
        console.log(JSON.stringify(s));
      }
    }

    listAssignmentToCLasss() {
      for (let a of this.assignments) {
        console.log(a);
      }
    }
    listPupilsToCLass() {
      for (let p of this.students) {
        console.log(p);
      }
  }
}
  let courses = [];
  let coursesList = [];
  function listCourses(){
    console.log("List of Courses:");
  for (let c of coursesList) {
    console.log(c);
      }
  }
    
  
  let calculus = new Course("calculus", "Do your homework", [
    "Limits",
    "chain-rule",
    "intergration",
  ]);

  let inputOption;
  while (inputOption != "exit") {
    inputOption = prompt(
      "Please enter your option\n[1] - Add Student\n[2] - List Students\n[3] - Add grade\n[4] - Remove student\n[5] - Add Class\n[6] -list Class\n[7]- Add Assignment\n[8] - Add Submission\n[9] - Exit\n"
    );
    if (inputOption == "1") {
      let studentName = prompt("Enter Student Name:");
      let year = prompt("Enter Student Year:");
      calculus.addStudentToClass(studentName, year);
    } else if (inputOption == "2") {
      calculus.listPupilsToCLass();
    } else if (inputOption == "3") {
      let studentName = prompt("Enter Student Name");
      let studentGrade = prompt("Enter Student Grade:");
      calculus.assignGrade(studentName, studentGrade);
    } else if (inputOption == "4") {
      let studentName = prompt("Enter Student Name");
      calculus.removePupilToCLass(studentName);
     } else if (inputOption =="5"){
      let className = prompt("Enter the name of the new class:");
      Course.addClass(className);
    } else if (inputOption === "6") {
      listCourses();
    } else if (inputOption === "7") {
      let assignmentName = prompt("Enter Assignment Name")
      calculus.addAssignmentToCLass(assignmentName);
    } else if (inputOption === "exit") {
      console.log("Exiting program.");
    } else {
      console.log("Please input a valid option or 'exit' to quit.");
    }

  }
  console.log("finished program");
</script>
